import{a as we}from"./chunk-XMUVVUN7.js";import{a as kt,b as Mt,c as Vt}from"./chunk-TLENBXKR.js";import{a as wt}from"./chunk-NS255R2F.js";import{a as bt,b as xt}from"./chunk-RAZUAHBI.js";import{a as yt,b as St}from"./chunk-L56O5AUV.js";import{a as vt,b as Ct}from"./chunk-5QRQSYU5.js";import{a as _t,b as gt}from"./chunk-E5G7LYX2.js";import{a as Se,c as pt,d as ct,e as mt,f as ut,g as ht,k as ft}from"./chunk-PK23XMUB.js";import"./chunk-AUFHY7VS.js";import"./chunk-XPWDESDQ.js";import"./chunk-ER3XKTCP.js";import"./chunk-JA2DIW7E.js";import{a as st,b as dt}from"./chunk-ZMZXLXSM.js";import"./chunk-L7CYZS6T.js";import{a as it,b as nt}from"./chunk-SGA43OA7.js";import{a as at,b as ot}from"./chunk-VBPYTXU6.js";import{a as rt,b as lt}from"./chunk-C73BGL6H.js";import{b as Xe}from"./chunk-RANQPQCM.js";import{a as Ke,b as Ye}from"./chunk-EQ7FBPX2.js";import"./chunk-ZURLY7IA.js";import"./chunk-E5KJRRTP.js";import"./chunk-XKZBSERL.js";import"./chunk-ZCMJ7UQL.js";import"./chunk-GGQ7LRWG.js";import{a as fe,b as ve,e as $e,f as et}from"./chunk-QJZJPKUU.js";import{a as Ge,b as Je}from"./chunk-2UYTTCDL.js";import{a as W}from"./chunk-SILQIBBA.js";import{b as Ne,e as je,i as xe,m as qe,n as ge,o as ye}from"./chunk-CMI2WP65.js";import{c as We,d as ce,f as me,g as ue,h as _e}from"./chunk-F2X3VGZZ.js";import{a as he,e as Qe,g as Ze,p as Ue}from"./chunk-COAKLJSO.js";import{c as tt}from"./chunk-C7COBHZM.js";import"./chunk-Y2YSYY3G.js";import"./chunk-QB55GBCV.js";import"./chunk-R72WXHZK.js";import{a as He,j as X,l as pe,m as G,n as Re,r as ze,u as R,x as Be}from"./chunk-2QNP6Q64.js";import{$a as De,$b as Z,Ab as ae,Ac as Y,Bb as o,Ca as Pe,Cb as r,Db as g,Eb as oe,Fb as re,Gb as le,Hb as b,Kb as v,Lb as p,Mb as Fe,Nb as se,Ob as be,Pb as Q,Qb as D,Rb as L,Tb as c,Ub as C,Vb as z,Xa as l,Y as ee,Yb as M,Zb as V,_ as j,_b as T,ab as y,ac as A,bc as w,cc as H,da as Ce,dc as de,ec as Ae,fb as O,gb as q,ka as m,kb as h,kc as E,la as u,lc as $,mc as U,rb as f,sb as d,ta as I,tb as ie,tc as K,ua as Ie,ub as Le,vb as F,wb as S,xa as te,xb as k,xc as x,ya as P,yb as Oe,yc as B,zb as ne}from"./chunk-UUFN4DK2.js";import"./chunk-4CLCTAJ7.js";var Ot=["sliderHandle"],Ft=["sliderHandleStart"],At=["sliderHandleEnd"],Ht=(i,s,e,n)=>({"p-slider p-component":!0,"p-disabled":i,"p-slider-horizontal":s,"p-slider-vertical":e,"p-slider-animate":n}),Rt=(i,s)=>({left:i,width:s}),zt=(i,s)=>({bottom:i,height:s}),Bt=i=>({height:i}),Wt=i=>({width:i}),Ve=(i,s)=>({left:i,bottom:s}),Tt=i=>({"p-slider-handle-active":i});function Nt(i,s){if(i&1&&g(0,"span",8),i&2){let e=p();d("ngStyle",H(2,Rt,e.offset!==null&&e.offset!==void 0?e.offset+"%":e.handleValues[0]+"%",e.diff?e.diff+"%":e.handleValues[1]-e.handleValues[0]+"%")),f("data-pc-section","range")}}function jt(i,s){if(i&1&&g(0,"span",8),i&2){let e=p();d("ngStyle",H(2,zt,e.offset!==null&&e.offset!==void 0?e.offset+"%":e.handleValues[0]+"%",e.diff?e.diff+"%":e.handleValues[1]-e.handleValues[0]+"%")),f("data-pc-section","range")}}function qt(i,s){if(i&1&&g(0,"span",8),i&2){let e=p();d("ngStyle",w(2,Bt,e.handleValue+"%")),f("data-pc-section","range")}}function Qt(i,s){if(i&1&&g(0,"span",8),i&2){let e=p();d("ngStyle",w(2,Wt,e.handleValue+"%")),f("data-pc-section","range")}}function Zt(i,s){if(i&1){let e=b();o(0,"span",9,0),v("touchstart",function(t){m(e);let a=p();return u(a.onDragStart(t))})("touchmove",function(t){m(e);let a=p();return u(a.onDrag(t))})("touchend",function(t){m(e);let a=p();return u(a.onDragEnd(t))})("mousedown",function(t){m(e);let a=p();return u(a.onMouseDown(t))})("keydown",function(t){m(e);let a=p();return u(a.onKeyDown(t))}),r()}if(i&2){let e=p();ie("transition",e.dragging?"none":null),d("ngStyle",H(12,Ve,e.orientation=="horizontal"?e.handleValue+"%":null,e.orientation=="vertical"?e.handleValue+"%":null))("autofocus",e.autofocus),f("tabindex",e.disabled?null:e.tabindex)("aria-valuemin",e.min)("aria-valuenow",e.value)("aria-valuemax",e.max)("aria-labelledby",e.ariaLabelledBy)("aria-label",e.ariaLabel)("aria-orientation",e.orientation)("data-pc-section","handle")}}function Ut(i,s){if(i&1){let e=b();o(0,"span",10,1),v("keydown",function(t){m(e);let a=p();return u(a.onKeyDown(t,0))})("mousedown",function(t){m(e);let a=p();return u(a.onMouseDown(t,0))})("touchstart",function(t){m(e);let a=p();return u(a.onDragStart(t,0))})("touchmove",function(t){m(e);let a=p();return u(a.onDrag(t,0))})("touchend",function(t){m(e);let a=p();return u(a.onDragEnd(t))}),r()}if(i&2){let e=p();ie("transition",e.dragging?"none":null),d("ngStyle",H(13,Ve,e.rangeStartLeft,e.rangeStartBottom))("ngClass",w(16,Tt,e.handleIndex==0))("autofocus",e.autofocus),f("tabindex",e.disabled?null:e.tabindex)("aria-valuemin",e.min)("aria-valuenow",e.value?e.value[0]:null)("aria-valuemax",e.max)("aria-labelledby",e.ariaLabelledBy)("aria-label",e.ariaLabel)("aria-orientation",e.orientation)("data-pc-section","startHandler")}}function Kt(i,s){if(i&1){let e=b();o(0,"span",11,2),v("keydown",function(t){m(e);let a=p();return u(a.onKeyDown(t,1))})("mousedown",function(t){m(e);let a=p();return u(a.onMouseDown(t,1))})("touchstart",function(t){m(e);let a=p();return u(a.onDragStart(t,1))})("touchmove",function(t){m(e);let a=p();return u(a.onDrag(t,1))})("touchend",function(t){m(e);let a=p();return u(a.onDragEnd(t))}),r()}if(i&2){let e=p();ie("transition",e.dragging?"none":null),d("ngStyle",H(12,Ve,e.rangeEndLeft,e.rangeEndBottom))("ngClass",w(15,Tt,e.handleIndex==1)),f("tabindex",e.disabled?null:e.tabindex)("aria-valuemin",e.min)("aria-valuenow",e.value?e.value[1]:null)("aria-valuemax",e.max)("aria-labelledby",e.ariaLabelledBy)("aria-label",e.ariaLabel)("aria-orientation",e.orientation)("data-pc-section","endHandler")}}var Yt={provide:he,useExisting:ee(()=>Te),multi:!0},Te=(()=>{class i{document;platformId;el;renderer;ngZone;cd;animate;disabled;min=0;max=100;orientation="horizontal";step;range;style;styleClass;ariaLabel;ariaLabelledBy;tabindex=0;autofocus;onChange=new I;onSlideEnd=new I;sliderHandle;sliderHandleStart;sliderHandleEnd;value;values;handleValue;handleValues=[];diff;offset;bottom;onModelChange=()=>{};onModelTouched=()=>{};dragging;dragListener;mouseupListener;initX;initY;barWidth;barHeight;sliderHandleClick;handleIndex=0;startHandleValue;startx;starty;constructor(e,n,t,a,_,N){this.document=e,this.platformId=n,this.el=t,this.renderer=a,this.ngZone=_,this.cd=N}onMouseDown(e,n){this.disabled||(this.dragging=!0,this.updateDomData(),this.sliderHandleClick=!0,this.range&&this.handleValues&&this.handleValues[0]===this.max?this.handleIndex=0:this.handleIndex=n,this.bindDragListeners(),e.target.focus(),e.preventDefault(),this.animate&&W.removeClass(this.el.nativeElement.children[0],"p-slider-animate"))}onDragStart(e,n){if(!this.disabled){var t=e.changedTouches[0];this.startHandleValue=this.range?this.handleValues[n]:this.handleValue,this.dragging=!0,this.range&&this.handleValues&&this.handleValues[0]===this.max?this.handleIndex=0:this.handleIndex=n,this.orientation==="horizontal"?(this.startx=parseInt(t.clientX,10),this.barWidth=this.el.nativeElement.children[0].offsetWidth):(this.starty=parseInt(t.clientY,10),this.barHeight=this.el.nativeElement.children[0].offsetHeight),this.animate&&W.removeClass(this.el.nativeElement.children[0],"p-slider-animate"),e.preventDefault()}}onDrag(e){if(!this.disabled){var n=e.changedTouches[0],t=0;this.orientation==="horizontal"?t=Math.floor((parseInt(n.clientX,10)-this.startx)*100/this.barWidth)+this.startHandleValue:t=Math.floor((this.starty-parseInt(n.clientY,10))*100/this.barHeight)+this.startHandleValue,this.setValueFromHandle(e,t),e.preventDefault()}}onDragEnd(e){this.disabled||(this.dragging=!1,this.range?this.onSlideEnd.emit({originalEvent:e,values:this.values}):this.onSlideEnd.emit({originalEvent:e,value:this.value}),this.animate&&W.addClass(this.el.nativeElement.children[0],"p-slider-animate"))}onBarClick(e){this.disabled||(this.sliderHandleClick||(this.updateDomData(),this.handleChange(e),this.range?this.onSlideEnd.emit({originalEvent:e,values:this.values}):this.onSlideEnd.emit({originalEvent:e,value:this.value})),this.sliderHandleClick=!1)}onKeyDown(e,n){switch(this.handleIndex=n,e.code){case"ArrowDown":case"ArrowLeft":this.decrementValue(e,n),e.preventDefault();break;case"ArrowUp":case"ArrowRight":this.incrementValue(e,n),e.preventDefault();break;case"PageDown":this.decrementValue(e,n,!0),e.preventDefault();break;case"PageUp":this.incrementValue(e,n,!0),e.preventDefault();break;case"Home":this.updateValue(this.min,e),e.preventDefault();break;case"End":this.updateValue(this.max,e),e.preventDefault();break;case"Tab":this.onDragEnd(e);break;default:break}}decrementValue(e,n,t=!1){let a;this.range?this.step?a=this.values[n]-this.step:a=this.values[n]-1:this.step?a=this.value-this.step:!this.step&&t?a=this.value-10:a=this.value-1,this.updateValue(a,e),e.preventDefault()}incrementValue(e,n,t=!1){let a;this.range?this.step?a=this.values[n]+this.step:a=this.values[n]+1:this.step?a=this.value+this.step:!this.step&&t?a=this.value+10:a=this.value+1,this.updateValue(a,e),e.preventDefault()}handleChange(e){let n=this.calculateHandleValue(e);this.setValueFromHandle(e,n)}bindDragListeners(){Be(this.platformId)&&this.ngZone.runOutsideAngular(()=>{let e=this.el?this.el.nativeElement.ownerDocument:this.document;this.dragListener||(this.dragListener=this.renderer.listen(e,"mousemove",n=>{this.dragging&&this.ngZone.run(()=>{this.handleChange(n)})})),this.mouseupListener||(this.mouseupListener=this.renderer.listen(e,"mouseup",n=>{this.dragging&&(this.dragging=!1,this.ngZone.run(()=>{this.range?this.onSlideEnd.emit({originalEvent:n,values:this.values}):this.onSlideEnd.emit({originalEvent:n,value:this.value}),this.animate&&W.addClass(this.el.nativeElement.children[0],"p-slider-animate")}))}))})}unbindDragListeners(){this.dragListener&&(this.dragListener(),this.dragListener=null),this.mouseupListener&&(this.mouseupListener(),this.mouseupListener=null)}setValueFromHandle(e,n){let t=this.getValueFromHandle(n);this.range?this.step?this.handleStepChange(t,this.values[this.handleIndex]):(this.handleValues[this.handleIndex]=n,this.updateValue(t,e)):this.step?this.handleStepChange(t,this.value):(this.handleValue=n,this.updateValue(t,e)),this.cd.markForCheck()}handleStepChange(e,n){let t=e-n,a=n,_=this.step;t<0?a=n+Math.ceil(e/_-n/_)*_:t>0&&(a=n+Math.floor(e/_-n/_)*_),this.updateValue(a),this.updateHandleValue()}writeValue(e){this.range?this.values=e||[0,0]:this.value=e||0,this.updateHandleValue(),this.updateDiffAndOffset(),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}get rangeStartLeft(){return this.isVertical()?null:this.handleValues[0]>100?"100%":this.handleValues[0]+"%"}get rangeStartBottom(){return this.isVertical()?this.handleValues[0]+"%":"auto"}get rangeEndLeft(){return this.isVertical()?null:this.handleValues[1]+"%"}get rangeEndBottom(){return this.isVertical()?this.handleValues[1]+"%":"auto"}isVertical(){return this.orientation==="vertical"}updateDomData(){let e=this.el.nativeElement.children[0].getBoundingClientRect();this.initX=e.left+W.getWindowScrollLeft(),this.initY=e.top+W.getWindowScrollTop(),this.barWidth=this.el.nativeElement.children[0].offsetWidth,this.barHeight=this.el.nativeElement.children[0].offsetHeight}calculateHandleValue(e){return this.orientation==="horizontal"?(e.pageX-this.initX)*100/this.barWidth:(this.initY+this.barHeight-e.pageY)*100/this.barHeight}updateHandleValue(){this.range?(this.handleValues[0]=(this.values[0]<this.min?0:this.values[0]-this.min)*100/(this.max-this.min),this.handleValues[1]=(this.values[1]>this.max?100:this.values[1]-this.min)*100/(this.max-this.min)):this.value<this.min?this.handleValue=0:this.value>this.max?this.handleValue=100:this.handleValue=(this.value-this.min)*100/(this.max-this.min),this.step&&this.updateDiffAndOffset()}updateDiffAndOffset(){this.diff=this.getDiff(),this.offset=this.getOffset()}getDiff(){return Math.abs(this.handleValues[0]-this.handleValues[1])}getOffset(){return Math.min(this.handleValues[0],this.handleValues[1])}updateValue(e,n){if(this.range){let t=e;this.handleIndex==0?(t<this.min?(t=this.min,this.handleValues[0]=0):t>this.values[1]&&t>this.max&&(t=this.max,this.handleValues[0]=100),this.sliderHandleStart?.nativeElement.focus()):(t>this.max?(t=this.max,this.handleValues[1]=100,this.offset=this.handleValues[1]):t<this.min?(t=this.min,this.handleValues[1]=0):t<this.values[0]&&(this.offset=this.handleValues[1]),this.sliderHandleEnd?.nativeElement.focus()),this.step?this.updateHandleValue():this.updateDiffAndOffset(),this.values[this.handleIndex]=this.getNormalizedValue(t);let a=[this.minVal,this.maxVal];this.onModelChange(a),this.onChange.emit({event:n,values:this.values})}else e<this.min?(e=this.min,this.handleValue=0):e>this.max&&(e=this.max,this.handleValue=100),this.value=this.getNormalizedValue(e),this.onModelChange(this.value),this.onChange.emit({event:n,value:this.value}),this.sliderHandle?.nativeElement.focus();this.updateHandleValue()}getValueFromHandle(e){return(this.max-this.min)*(e/100)+this.min}getDecimalsCount(e){return e&&Math.floor(e)!==e&&e.toString().split(".")[1].length||0}getNormalizedValue(e){let n=this.getDecimalsCount(this.step);return n>0?+parseFloat(e.toString()).toFixed(n):Math.floor(e)}ngOnDestroy(){this.unbindDragListeners()}get minVal(){return Math.min(this.values[1],this.values[0])}get maxVal(){return Math.max(this.values[1],this.values[0])}static \u0275fac=function(n){return new(n||i)(y(He),y(Pe),y(te),y(De),y(Ie),y(K))};static \u0275cmp=O({type:i,selectors:[["p-slider"]],viewQuery:function(n,t){if(n&1&&(Q(Ot,5),Q(Ft,5),Q(At,5)),n&2){let a;D(a=L())&&(t.sliderHandle=a.first),D(a=L())&&(t.sliderHandleStart=a.first),D(a=L())&&(t.sliderHandleEnd=a.first)}},hostAttrs:[1,"p-element"],inputs:{animate:[2,"animate","animate",x],disabled:[2,"disabled","disabled",x],min:[2,"min","min",B],max:[2,"max","max",B],orientation:"orientation",step:[2,"step","step",B],range:[2,"range","range",x],style:"style",styleClass:"styleClass",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",tabindex:[2,"tabindex","tabindex",B],autofocus:[2,"autofocus","autofocus",x]},outputs:{onChange:"onChange",onSlideEnd:"onSlideEnd"},standalone:!1,features:[Z([Yt])],decls:8,vars:18,consts:[["sliderHandle",""],["sliderHandleStart",""],["sliderHandleEnd",""],[3,"click","ngStyle","ngClass"],["class","p-slider-range",3,"ngStyle",4,"ngIf"],["class","p-slider-handle","role","slider","pAutoFocus","",3,"transition","ngStyle","autofocus","touchstart","touchmove","touchend","mousedown","keydown",4,"ngIf"],["class","p-slider-handle","role","slider","pAutoFocus","",3,"transition","ngStyle","ngClass","autofocus","keydown","mousedown","touchstart","touchmove","touchend",4,"ngIf"],["class","p-slider-handle","role","slider",3,"transition","ngStyle","ngClass","keydown","mousedown","touchstart","touchmove","touchend",4,"ngIf"],[1,"p-slider-range",3,"ngStyle"],["role","slider","pAutoFocus","",1,"p-slider-handle",3,"touchstart","touchmove","touchend","mousedown","keydown","ngStyle","autofocus"],["role","slider","pAutoFocus","",1,"p-slider-handle",3,"keydown","mousedown","touchstart","touchmove","touchend","ngStyle","ngClass","autofocus"],["role","slider",1,"p-slider-handle",3,"keydown","mousedown","touchstart","touchmove","touchend","ngStyle","ngClass"]],template:function(n,t){n&1&&(o(0,"div",3),v("click",function(_){return t.onBarClick(_)}),h(1,Nt,1,5,"span",4)(2,jt,1,5,"span",4)(3,qt,1,4,"span",4)(4,Qt,1,4,"span",4)(5,Zt,2,15,"span",5)(6,Ut,2,18,"span",6)(7,Kt,2,17,"span",7),r()),n&2&&(S(t.styleClass),d("ngStyle",t.style)("ngClass",Ae(13,Ht,t.disabled,t.orientation=="horizontal",t.orientation=="vertical",t.animate)),f("data-pc-name","slider")("data-pc-section","root"),l(),d("ngIf",t.range&&t.orientation=="horizontal"),l(),d("ngIf",t.range&&t.orientation=="vertical"),l(),d("ngIf",!t.range&&t.orientation=="vertical"),l(),d("ngIf",!t.range&&t.orientation=="horizontal"),l(),d("ngIf",!t.range),l(),d("ngIf",t.range),l(),d("ngIf",t.range))},dependencies:[X,pe,G,fe],styles:[`@layer primeng{.p-slider{position:relative}.p-slider .p-slider-handle{position:absolute;cursor:grab;touch-action:none;display:block}.p-slider-range{position:absolute;display:block}.p-slider-horizontal .p-slider-range{top:0;left:0;height:100%}.p-slider-horizontal .p-slider-handle{top:50%}.p-slider-vertical{height:100px}.p-slider-vertical .p-slider-handle{left:50%}.p-slider-vertical .p-slider-range{bottom:0;left:0;width:100%}}
`],encapsulation:2,changeDetection:0})}return i})(),Et=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=j({imports:[R,ve]})}return i})();var Gt=["input"],Jt=(i,s,e)=>({"p-inputswitch p-component":!0,"p-inputswitch-checked":i,"p-disabled":s,"p-focus":e}),$t={provide:he,useExisting:ee(()=>Ee),multi:!0},Ee=(()=>{class i{cd;style;styleClass;tabindex;inputId;name;disabled;readonly;trueValue=!0;falseValue=!1;ariaLabel;ariaLabelledBy;autofocus;onChange=new I;input;modelValue=!1;focused=!1;onModelChange=()=>{};onModelTouched=()=>{};constructor(e){this.cd=e}onClick(e){!this.disabled&&!this.readonly&&(this.modelValue=this.checked()?this.falseValue:this.trueValue,this.onModelChange(this.modelValue),this.onChange.emit({originalEvent:e,checked:this.modelValue}),this.input.nativeElement.focus())}onFocus(){this.focused=!0}onBlur(){this.focused=!1,this.onModelTouched()}writeValue(e){this.modelValue=e,this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}checked(){return this.modelValue===this.trueValue}static \u0275fac=function(n){return new(n||i)(y(K))};static \u0275cmp=O({type:i,selectors:[["p-inputSwitch"]],viewQuery:function(n,t){if(n&1&&Q(Gt,5),n&2){let a;D(a=L())&&(t.input=a.first)}},hostAttrs:[1,"p-element"],inputs:{style:"style",styleClass:"styleClass",tabindex:[2,"tabindex","tabindex",B],inputId:"inputId",name:"name",disabled:[2,"disabled","disabled",x],readonly:[2,"readonly","readonly",x],trueValue:"trueValue",falseValue:"falseValue",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",autofocus:[2,"autofocus","autofocus",x]},outputs:{onChange:"onChange"},standalone:!1,features:[Z([$t])],decls:5,vars:23,consts:[["input",""],[3,"click","ngClass","ngStyle"],[1,"p-hidden-accessible"],["type","checkbox","role","switch","pAutoFocus","",3,"focus","blur","checked","disabled","autofocus"],[1,"p-inputswitch-slider"]],template:function(n,t){if(n&1){let a=b();o(0,"div",1),v("click",function(N){return m(a),u(t.onClick(N))}),o(1,"div",2)(2,"input",3,0),v("focus",function(){return m(a),u(t.onFocus())})("blur",function(){return m(a),u(t.onBlur())}),r()(),g(4,"span",4),r()}n&2&&(S(t.styleClass),d("ngClass",de(19,Jt,t.checked(),t.disabled,t.focused))("ngStyle",t.style),f("data-pc-name","inputswitch")("data-pc-section","root"),l(),f("data-pc-section","hiddenInputWrapper")("data-p-hidden-accessible",!0),l(),d("checked",t.checked())("disabled",t.disabled)("autofocus",t.autofocus),f("id",t.inputId)("aria-checked",t.checked())("aria-labelledby",t.ariaLabelledBy)("aria-label",t.ariaLabel)("name",t.name)("tabindex",t.tabindex)("data-pc-section","hiddenInput"),l(2),f("data-pc-section","slider"))},dependencies:[X,G,fe],styles:[`@layer primeng{.p-inputswitch{position:relative;display:inline-block;-webkit-user-select:none;user-select:none}.p-inputswitch-slider{position:absolute;cursor:pointer;inset:0;border:1px solid transparent}.p-inputswitch-slider:before{position:absolute;content:"";top:50%}}
`],encapsulation:2,changeDetection:0})}return i})(),It=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=j({imports:[R,ve]})}return i})();var ti=["*",[["p-header"]],[["p-footer"]]],ii=["*","p-header","p-footer"],ni=(i,s)=>({"p-panel p-component":!0,"p-panel-toggleable":i,"p-panel-expanded":s}),ai=i=>({transitionParams:i,height:"0",opacity:"0"}),oi=i=>({value:"hidden",params:i}),ri=i=>({transitionParams:i,height:"*",opacity:"1"}),li=i=>({value:"visible",params:i}),si=(i,s,e)=>({"p-panel-icons-start":i,"p-panel-icons-end":s,"p-panel-icons-center":e}),di=i=>({$implicit:i});function pi(i,s){if(i&1&&(o(0,"span",10),c(1),r()),i&2){let e=p(2);f("id",e.id+"_header"),l(),C(e.header)}}function ci(i,s){i&1&&le(0)}function mi(i,s){}function ui(i,s){i&1&&h(0,mi,0,0,"ng-template")}function _i(i,s){if(i&1&&g(0,"span",16),i&2){let e=p(5);S(e.expandIcon),d("ngClass",e.iconClass)}}function gi(i,s){if(i&1&&g(0,"MinusIcon",17),i&2){let e=p(5);d("styleClass",e.iconClass)}}function hi(i,s){if(i&1&&(oe(0),h(1,_i,1,3,"span",14)(2,gi,1,1,"MinusIcon",15),re()),i&2){let e=p(4);l(),d("ngIf",e.expandIcon),l(),d("ngIf",!e.expandIcon)}}function fi(i,s){if(i&1&&g(0,"span",16),i&2){let e=p(5);S(e.collapseIcon),d("ngClass",e.iconClass)}}function vi(i,s){if(i&1&&g(0,"PlusIcon",17),i&2){let e=p(5);d("styleClass",e.iconClass)}}function Ci(i,s){if(i&1&&(oe(0),h(1,fi,1,3,"span",14)(2,vi,1,1,"PlusIcon",15),re()),i&2){let e=p(4);l(),d("ngIf",e.collapseIcon),l(),d("ngIf",!e.collapseIcon)}}function bi(i,s){if(i&1&&(oe(0),h(1,hi,3,2,"ng-container",12)(2,Ci,3,2,"ng-container",12),re()),i&2){let e=p(3);l(),d("ngIf",!e.collapsed),l(),d("ngIf",e.collapsed)}}function xi(i,s){}function yi(i,s){i&1&&h(0,xi,0,0,"ng-template")}function Si(i,s){if(i&1){let e=b();o(0,"button",11),v("click",function(t){m(e);let a=p(2);return u(a.onIconClick(t))})("keydown",function(t){m(e);let a=p(2);return u(a.onKeyDown(t))}),h(1,bi,3,2,"ng-container",12)(2,yi,1,0,null,13),r()}if(i&2){let e=p(2);f("id",e.id+"_header")("aria-label",e.buttonAriaLabel)("aria-controls",e.id+"_content")("aria-expanded",!e.collapsed),l(),d("ngIf",!e.headerIconTemplate),l(),d("ngTemplateOutlet",e.headerIconTemplate)("ngTemplateOutletContext",w(7,di,e.collapsed))}}function wi(i,s){if(i&1){let e=b();o(0,"div",6),v("click",function(t){m(e);let a=p();return u(a.onHeaderClick(t))}),h(1,pi,2,2,"span",7),se(2,1),h(3,ci,1,0,"ng-container",4),o(4,"div",8),h(5,ui,1,0,null,4)(6,Si,3,9,"button",9),r()()}if(i&2){let e=p();f("id",e.id+"-titlebar"),l(),d("ngIf",e.header),l(2),d("ngTemplateOutlet",e.headerTemplate),l(),d("ngClass",de(6,si,e.iconPos==="start",e.iconPos==="end",e.iconPos==="center")),l(),d("ngTemplateOutlet",e.iconTemplate),l(),d("ngIf",e.toggleable)}}function ki(i,s){i&1&&le(0)}function Mi(i,s){i&1&&le(0)}function Vi(i,s){if(i&1&&(o(0,"div",18),se(1,2),h(2,Mi,1,0,"ng-container",4),r()),i&2){let e=p();l(2),d("ngTemplateOutlet",e.footerTemplate)}}var Pt=(()=>{class i{el;cd;toggleable;header;collapsed;style;styleClass;iconPos="end";expandIcon;collapseIcon;showHeader=!0;toggler="icon";transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)";collapsedChange=new I;onBeforeToggle=new I;onAfterToggle=new I;footerFacet;templates;iconTemplate;animating;headerTemplate;contentTemplate;footerTemplate;headerIconTemplate;id=Ne();get buttonAriaLabel(){return this.header}constructor(e,n){this.el=e,this.cd=n}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"header":this.headerTemplate=e.template;break;case"content":this.contentTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"icons":this.iconTemplate=e.template;break;case"headericons":this.headerIconTemplate=e.template;break;default:this.contentTemplate=e.template;break}})}onHeaderClick(e){this.toggler==="header"&&this.toggle(e)}onIconClick(e){this.toggler==="icon"&&this.toggle(e)}toggle(e){if(this.animating)return!1;this.animating=!0,this.onBeforeToggle.emit({originalEvent:e,collapsed:this.collapsed}),this.toggleable&&(this.collapsed?this.expand():this.collapse()),this.cd.markForCheck(),e.preventDefault()}expand(){this.collapsed=!1,this.collapsedChange.emit(this.collapsed)}collapse(){this.collapsed=!0,this.collapsedChange.emit(this.collapsed)}getBlockableElement(){return this.el.nativeElement.children[0]}onKeyDown(e){(e.code==="Enter"||e.code==="Space")&&(this.toggle(e),e.preventDefault())}onToggleDone(e){this.animating=!1,this.onAfterToggle.emit({originalEvent:e,collapsed:this.collapsed})}static \u0275fac=function(n){return new(n||i)(y(te),y(K))};static \u0275cmp=O({type:i,selectors:[["p-panel"]],contentQueries:function(n,t,a){if(n&1&&(be(a,qe,5),be(a,ge,4)),n&2){let _;D(_=L())&&(t.footerFacet=_.first),D(_=L())&&(t.templates=_)}},hostAttrs:[1,"p-element"],inputs:{toggleable:[2,"toggleable","toggleable",x],header:"header",collapsed:[2,"collapsed","collapsed",x],style:"style",styleClass:"styleClass",iconPos:"iconPos",expandIcon:"expandIcon",collapseIcon:"collapseIcon",showHeader:[2,"showHeader","showHeader",x],toggler:"toggler",transitionOptions:"transitionOptions"},outputs:{collapsedChange:"collapsedChange",onBeforeToggle:"onBeforeToggle",onAfterToggle:"onAfterToggle"},standalone:!1,ngContentSelectors:ii,decls:7,vars:25,consts:[[3,"ngClass","ngStyle"],["class","p-panel-header",3,"click",4,"ngIf"],["role","region",1,"p-toggleable-content",3,"id"],[1,"p-panel-content"],[4,"ngTemplateOutlet"],["class","p-panel-footer",4,"ngIf"],[1,"p-panel-header",3,"click"],["class","p-panel-title",4,"ngIf"],[1,"p-panel-icons",3,"ngClass"],["pRipple","","type","button","role","button","class","p-panel-header-icon p-panel-toggler p-link",3,"click","keydown",4,"ngIf"],[1,"p-panel-title"],["pRipple","","type","button","role","button",1,"p-panel-header-icon","p-panel-toggler","p-link",3,"click","keydown"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"class","ngClass",4,"ngIf"],[3,"styleClass",4,"ngIf"],[3,"ngClass"],[3,"styleClass"],[1,"p-panel-footer"]],template:function(n,t){n&1&&(Fe(ti),o(0,"div",0),h(1,wi,7,10,"div",1),o(2,"div",2),v("@panelContent.done",function(_){return t.onToggleDone(_)}),o(3,"div",3),se(4),h(5,ki,1,0,"ng-container",4),r(),h(6,Vi,3,1,"div",5),r()()),n&2&&(S(t.styleClass),d("ngClass",H(14,ni,t.toggleable,!t.collapsed&&t.toggleable))("ngStyle",t.style),f("id",t.id)("data-pc-name","panel"),l(),d("ngIf",t.showHeader),l(),d("id",t.id+"_content")("@panelContent",t.collapsed?w(19,oi,w(17,ai,t.animating?t.transitionOptions:"0ms")):w(23,li,w(21,ri,t.animating?t.transitionOptions:"0ms"))),f("aria-labelledby",t.id+"_header")("aria-hidden",t.collapsed)("tabindex",t.collapsed?"-1":void 0),l(3),d("ngTemplateOutlet",t.contentTemplate),l(),d("ngIf",t.footerFacet||t.footerTemplate))},dependencies:()=>[X,pe,Re,G,Ge,Se,we],styles:[`@layer primeng{.p-panel-header{display:flex;align-items:center}.p-panel-title{line-height:1;order:1}.p-panel-header-icon{display:inline-flex;justify-content:center;align-items:center;cursor:pointer;text-decoration:none;overflow:hidden;position:relative}.p-panel-toggleable.p-panel-expanded>.p-toggleable-content:not(.ng-animating){overflow:visible}.p-panel-toggleable .p-toggleable-content{overflow:hidden}}
`],encapsulation:2,data:{animation:[We("panelContent",[ue("hidden",me({height:"0"})),ue("void",me({height:"{{height}}"}),{params:{height:"0"}}),ue("visible",me({height:"*"})),_e("visible <=> hidden",[ce("{{transitionParams}}")]),_e("void => hidden",ce("{{transitionParams}}")),_e("void => visible",ce("{{transitionParams}}"))])]},changeDetection:0})}return i})(),Dt=(()=>{class i{static \u0275fac=function(n){return new(n||i)};static \u0275mod=q({type:i});static \u0275inj=j({imports:[R,ye,Je,Se,we,ye]})}return i})();var Ei=()=>({width:"400px"}),J=()=>({width:"100%"}),Ii=(i,s)=>s.provider,Pi=(i,s)=>s.value;function Di(i,s){if(i&1){let e=b();o(0,"div",12)(1,"div",13)(2,"h2"),c(3,"LLM Settings"),r(),o(4,"span",14),c(5,"Configure AI providers for validation tasks"),r()(),o(6,"div",15)(7,"p-button",16),v("onClick",function(){m(e);let t=p();return u(t.loadData())}),r()()()}i&2&&(l(7),d("text",!0))}function Li(i,s){i&1&&(o(0,"div",3),g(1,"p-progressSpinner"),r())}function Oi(i,s){if(i&1){let e=b();o(0,"div",25)(1,"label"),c(2,"Fallback Model"),r(),o(3,"p-dropdown",27),T("ngModelChange",function(t){m(e);let a=p();return V(a.fallback_model,t)||(a.fallback_model=t),u(t)}),r()()}if(i&2){let e=p(),n=p(3);l(3),F(A(4,J)),d("options",n.getModelsForProvider(e.fallback_provider)),M("ngModel",e.fallback_model)}}function Fi(i,s){if(i&1){let e=b();g(0,"p-divider"),o(1,"div",24)(2,"div",25)(3,"label"),c(4,"Provider"),r(),o(5,"p-dropdown",26),T("ngModelChange",function(t){let a=m(e);return V(a.provider,t)||(a.provider=t),u(t)}),v("onChange",function(){let t=m(e),a=p().$implicit,_=p(2);return u(_.onProviderChange(t,a.value))}),r()(),o(6,"div",25)(7,"label"),c(8,"Model"),r(),o(9,"p-dropdown",27),T("ngModelChange",function(t){let a=m(e);return V(a.model_name,t)||(a.model_name=t),u(t)}),r()(),o(10,"div",25)(11,"label"),c(12," Temperature "),o(13,"span",28),c(14),r()(),o(15,"p-slider",29),T("ngModelChange",function(t){let a=m(e);return V(a.temperature,t)||(a.temperature=t),u(t)}),r(),o(16,"span",30)(17,"span"),c(18,"Precise"),r(),o(19,"span"),c(20,"Creative"),r()()(),o(21,"div",25)(22,"label"),c(23,"Max Tokens"),r(),o(24,"p-inputNumber",29),T("ngModelChange",function(t){let a=m(e);return V(a.max_tokens,t)||(a.max_tokens=t),u(t)}),r()(),g(25,"p-divider"),o(26,"div",31)(27,"h4"),c(28,"Fallback Configuration"),r(),o(29,"div",25)(30,"label"),c(31,"Fallback Provider"),r(),o(32,"p-dropdown",32),T("ngModelChange",function(t){let a=m(e);return V(a.fallback_provider,t)||(a.fallback_provider=t),u(t)}),r()(),h(33,Oi,4,5,"div",25),r(),g(34,"p-divider"),o(35,"div",25)(36,"label"),c(37,"Rate Limit (requests/min)"),r(),o(38,"p-inputNumber",33),T("ngModelChange",function(t){let a=m(e);return V(a.rate_limit_rpm,t)||(a.rate_limit_rpm=t),u(t)}),r()(),o(39,"div",34)(40,"p-button",35),v("onClick",function(){let t=m(e),a=p().$implicit,_=p(2);return u(_.saveSettings(a.value,t))}),r(),o(41,"p-button",36),v("onClick",function(){let t=m(e),a=p(3);return u(a.testConnection(t))}),r()()()}if(i&2){let e=s,n=p(3);l(5),F(A(33,J)),d("options",n.providerOptions),M("ngModel",e.provider),l(4),F(A(34,J)),d("options",n.getModelsForProvider(e.provider)),M("ngModel",e.model_name),l(5),C(e.temperature),l(),M("ngModel",e.temperature),d("min",0)("max",1)("step",.1),l(9),F(A(35,J)),M("ngModel",e.max_tokens),d("min",100)("max",128e3)("step",100),l(8),F(A(36,J)),d("options",n.providerOptions),M("ngModel",e.fallback_provider),d("showClear",!0),l(),k(e.fallback_provider?33:-1),l(5),F(A(37,J)),M("ngModel",e.rate_limit_rpm),d("min",1)("max",1e3),l(2),d("loading",n.saving()),l(),d("text",!0)("loading",n.testing())}}function Ai(i,s){if(i&1){let e=b();o(0,"div",23)(1,"p"),c(2,"No configuration for this task."),r(),o(3,"p-button",37),v("onClick",function(){m(e);let t=p().$implicit,a=p(2);return u(a.createSettings(t.value))}),r()()}}function Hi(i,s){if(i&1){let e=b();o(0,"div",17)(1,"div",18)(2,"div",19),g(3,"i",20),o(4,"div")(5,"h3"),c(6),r(),o(7,"span",21),c(8),r()()(),o(9,"p-inputSwitch",22),T("ngModelChange",function(t){let a=m(e).$implicit;return V(a.enabled,t)||(a.enabled=t),u(t)}),v("onChange",function(){let t=m(e).$implicit,a=p(2);return u(a.toggleTask(t))}),r()(),h(10,Fi,42,38)(11,Ai,4,0,"div",23),r()}if(i&2){let e,n=s.$implicit,t=p(2);l(3),S(n.icon),l(3),C(n.label),l(2),C(n.description),l(),M("ngModel",n.enabled),l(),k((e=t.getSettingsForTask(n.value))?10:11,e)}}function Ri(i,s){if(i&1&&(o(0,"div",4),ne(1,Hi,12,6,"div",17,Pi),r()),i&2){let e=p();l(),ae(e.taskTypes)}}function zi(i,s){i&1&&(o(0,"div",3),g(1,"p-progressSpinner"),r())}function Bi(i,s){i&1&&(o(0,"tr")(1,"th"),c(2,"Task"),r(),o(3,"th"),c(4,"Provider"),r(),o(5,"th"),c(6,"Model"),r(),o(7,"th"),c(8,"Requests"),r(),o(9,"th"),c(10,"Tokens"),r(),o(11,"th"),c(12,"Avg Latency"),r(),o(13,"th"),c(14,"Success Rate"),r(),o(15,"th"),c(16,"Cost"),r()())}function Wi(i,s){if(i&1&&(o(0,"tr")(1,"td"),g(2,"p-tag",47),r(),o(3,"td"),c(4),r(),o(5,"td"),c(6),r(),o(7,"td"),c(8),E(9,"number"),r(),o(10,"td"),c(11),E(12,"number"),r(),o(13,"td"),c(14),E(15,"number"),r(),o(16,"td"),g(17,"p-tag",48),E(18,"number"),r(),o(19,"td"),c(20),E(21,"number"),r()()),i&2){let e=s.$implicit;l(2),d("value",e.task_type),l(2),C(e.provider),l(2),C(e.model_name),l(2),C($(9,9,e.total_requests)),l(3),C($(12,11,e.total_tokens)),l(3),z("",U(15,13,e.avg_latency_ms,"1.0-0"),"ms"),l(3),d("value",U(18,16,e.success_rate*100,"1.1-1")+"%")("severity",e.success_rate>=.95?"success":e.success_rate>=.9?"warning":"danger"),l(3),z("$",U(21,19,e.estimated_cost_usd,"1.2-2"),"")}}function Ni(i,s){i&1&&(o(0,"tr")(1,"td",49),c(2,"No usage data available."),r()())}function ji(i,s){if(i&1&&(o(0,"p-panel",46),g(1,"p-chart",50),r()),i&2){let e=p(2);d("toggleable",!0),l(),d("data",e.chartData())("options",e.chartOptions)}}function qi(i,s){if(i&1&&(o(0,"div",6)(1,"div",38)(2,"div",39)(3,"span",40),c(4),E(5,"number"),r(),o(6,"span",41),c(7,"Total Tokens"),r()(),o(8,"div",39)(9,"span",40),c(10),E(11,"number"),r(),o(12,"span",41),c(13,"Estimated Cost"),r()(),o(14,"div",39)(15,"span",40),c(16),E(17,"number"),r(),o(18,"span",41),c(19,"Total Requests"),r()(),o(20,"div",39)(21,"span",40),c(22),E(23,"number"),r(),o(24,"span",41),c(25,"Avg Latency"),r()()(),o(26,"p-panel",42)(27,"p-table",43),h(28,Bi,17,0,"ng-template",1)(29,Wi,22,22,"ng-template",44)(30,Ni,3,0,"ng-template",45),r()(),h(31,ji,2,3,"p-panel",46),r()),i&2){let e=p();l(4),C($(5,7,e.totalTokens())),l(6),z("$",U(11,9,e.totalCost(),"1.2-2"),""),l(6),C($(17,12,e.totalRequests())),l(6),z("",U(23,14,e.averageLatency(),"1.0-0"),"ms"),l(4),d("toggleable",!0),l(),d("value",e.usageStats()),l(4),k(e.chartData()?31:-1)}}function Qi(i,s){if(i&1&&g(0,"p-tag",60),i&2){let e=s.$implicit;d("value",e)}}function Zi(i,s){if(i&1&&(o(0,"span",61),c(1),r()),i&2){let e=p().$implicit;l(),z("+",e.models.length-5," more")}}function Ui(i,s){if(i&1&&(o(0,"div",9)(1,"div",51),g(2,"i"),o(3,"h3"),c(4),r()(),o(5,"p",52),c(6),r(),o(7,"div",53)(8,"div",54)(9,"span",55),c(10,"Models:"),r(),o(11,"span",56),c(12),r()(),o(13,"div",54)(14,"span",55),c(15,"API Key Required:"),r(),g(16,"p-tag",48),r(),o(17,"div",54)(18,"span",55),c(19,"Custom Endpoint:"),r(),g(20,"p-tag",48),r()(),o(21,"div",57)(22,"span",58),c(23,"Available Models:"),r(),o(24,"div",59),ne(25,Qi,1,1,"p-tag",60,Oe),h(27,Zi,2,1,"span",61),r()()()),i&2){let e=s.$implicit,n=p();l(2),S(n.getProviderIcon(e.provider)),l(2),C(e.display_name),l(2),C(e.description),l(6),C(e.models.length),l(4),d("value",e.requires_api_key?"Yes":"No")("severity",e.requires_api_key?"warning":"success"),l(4),d("value",e.requires_endpoint?"Required":"Optional")("severity",e.requires_endpoint?"warning":"info"),l(5),ae(e.models.slice(0,5)),l(2),k(e.models.length>5?27:-1)}}function Ki(i,s){if(i&1&&(o(0,"div",63)(1,"span"),c(2,"Response Time:"),r(),o(3,"strong"),c(4),r()()),i&2){let e=p(2);l(4),z("",e.testResult().latency_ms,"ms")}}function Yi(i,s){if(i&1&&(o(0,"div",64)(1,"span"),c(2,"Error:"),r(),o(3,"code"),c(4),r()()),i&2){let e=p(2);l(4),C(e.testResult().error)}}function Xi(i,s){if(i&1&&(o(0,"div",11)(1,"div",62),g(2,"i"),r(),o(3,"h3"),c(4),r(),o(5,"p"),c(6),r(),h(7,Ki,5,1,"div",63)(8,Yi,5,1,"div",64),r()),i&2){let e=p();l(),Le("success",e.testResult().success)("error",!e.testResult().success),l(),S(e.testResult().success?"pi pi-check-circle":"pi pi-times-circle"),l(2),C(e.testResult().success?"Connection Successful":"Connection Failed"),l(2),C(e.testResult().message),l(),k(e.testResult().latency_ms?7:-1),l(),k(e.testResult().error?8:-1)}}var Va=(()=>{class i{api=Ce(tt);messageService=Ce(xe);loading=P(!1);saving=P(!1);testing=P(!1);usageLoading=P(!1);settings=P([]);providers=P([]);usageStats=P([]);testDialogVisible=!1;testResult=P(null);taskTypes=[{value:"extraction",label:"Data Extraction",description:"Extract patient data and codes from documents",icon:"pi pi-file-export",enabled:!0},{value:"validation",label:"Validation",description:"Validate medical codes and crosswalks",icon:"pi pi-check-circle",enabled:!0},{value:"necessity",label:"Clinical Necessity",description:"Assess medical necessity for procedures",icon:"pi pi-heart",enabled:!0},{value:"summarization",label:"Summarization",description:"Summarize medical reports and findings",icon:"pi pi-align-left",enabled:!1},{value:"fraud_review",label:"Fraud Review",description:"Analyze claims for potential fraud signals",icon:"pi pi-shield",enabled:!0}];totalTokens=Y(()=>this.usageStats().reduce((e,n)=>e+n.total_tokens,0));totalCost=Y(()=>this.usageStats().reduce((e,n)=>e+n.estimated_cost_usd,0));totalRequests=Y(()=>this.usageStats().reduce((e,n)=>e+n.total_requests,0));averageLatency=Y(()=>{let e=this.usageStats();return e.length===0?0:e.reduce((n,t)=>n+t.avg_latency_ms,0)/e.length});chartData=Y(()=>{let e=this.usageStats();if(e.length===0)return null;let n=e.reduce((t,a)=>(t[a.provider]=(t[a.provider]||0)+a.total_tokens,t),{});return{labels:Object.keys(n),datasets:[{data:Object.values(n),backgroundColor:["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"]}]}});chartOptions={plugins:{legend:{position:"bottom"}},responsive:!0,maintainAspectRatio:!1};providerOptions=[{label:"Azure OpenAI",value:"azure"},{label:"OpenAI",value:"openai"},{label:"Anthropic",value:"anthropic"},{label:"Ollama (Local)",value:"ollama"},{label:"vLLM (Self-hosted)",value:"vllm"}];ngOnInit(){this.loadData()}loadData(){this.loading.set(!0),this.usageLoading.set(!0),this.api.getProviders().subscribe({next:e=>this.providers.set(e.providers),error:e=>{console.error("Failed to load providers:",e),this.loadMockProviders()}}),this.api.getAllSettings().subscribe({next:e=>{this.settings.set(e),this.loading.set(!1)},error:e=>{console.error("Failed to load settings:",e),this.loadMockSettings(),this.loading.set(!1)}}),this.api.getUsageStats().subscribe({next:e=>{this.usageStats.set(e.stats),this.usageLoading.set(!1)},error:e=>{console.error("Failed to load usage stats:",e),this.loadMockUsage(),this.usageLoading.set(!1)}})}getSettingsForTask(e){return this.settings().find(n=>n.task_type===e)}getModelsForProvider(e){if(!e)return[];let n=this.providers().find(t=>t.provider===e);return n?n.models.map(t=>({label:t,value:t})):({azure:["gpt-4","gpt-4-turbo","gpt-3.5-turbo"],openai:["gpt-4","gpt-4-turbo","gpt-3.5-turbo","gpt-4o"],anthropic:["claude-3-opus","claude-3-sonnet","claude-3-haiku"],ollama:["llama3","mistral","codellama","mixtral"],vllm:["llama-3-70b","mistral-7b"]}[e]||[]).map(a=>({label:a,value:a}))}getProviderIcon(e){return{azure:"pi pi-microsoft",openai:"pi pi-bolt",anthropic:"pi pi-star",ollama:"pi pi-server",vllm:"pi pi-cloud"}[e]||"pi pi-cog"}onProviderChange(e,n){let t=this.getModelsForProvider(e.provider);t.length>0&&(e.model_name=t[0].value)}toggleTask(e){this.getSettingsForTask(e.value)&&this.api.updateSettings(e.value,{is_active:e.enabled}).subscribe({next:()=>{this.messageService.add({severity:"success",summary:e.enabled?"Enabled":"Disabled",detail:`${e.value} has been ${e.enabled?"enabled":"disabled"}.`})},error:()=>{e.enabled=!e.enabled,this.messageService.add({severity:"error",summary:"Error",detail:"Failed to update task status."})}})}createSettings(e){let n={id:"",tenant_id:"",task_type:e,provider:"azure",model_name:"gpt-4",temperature:.1,max_tokens:4096,rate_limit_rpm:60,is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};this.settings.update(t=>[...t,n])}saveSettings(e,n){this.saving.set(!0);let t={provider:n.provider,model_name:n.model_name,temperature:n.temperature,max_tokens:n.max_tokens,fallback_provider:n.fallback_provider,fallback_model:n.fallback_model,rate_limit_rpm:n.rate_limit_rpm,is_active:n.is_active};this.api.updateSettings(e,t).subscribe({next:a=>{this.settings.update(_=>_.map(N=>N.task_type===e?a:N)),this.messageService.add({severity:"success",summary:"Saved",detail:"Settings have been saved successfully."}),this.saving.set(!1)},error:a=>{console.error("Failed to save settings:",a),this.messageService.add({severity:"error",summary:"Error",detail:"Failed to save settings. Please try again."}),this.saving.set(!1)}})}testConnection(e){this.testing.set(!0),this.api.testConnection({provider:e.provider,model_name:e.model_name,api_endpoint:e.api_endpoint}).subscribe({next:n=>{this.testResult.set(n),this.testDialogVisible=!0,this.testing.set(!1)},error:n=>{this.testResult.set({success:!1,message:"Connection test failed",error:n.message||"Unknown error"}),this.testDialogVisible=!0,this.testing.set(!1)}})}loadMockProviders(){this.providers.set([{provider:"azure",display_name:"Azure OpenAI",models:["gpt-4","gpt-4-turbo","gpt-3.5-turbo"],requires_api_key:!0,requires_endpoint:!0,description:"Enterprise-grade OpenAI models hosted on Azure"},{provider:"openai",display_name:"OpenAI",models:["gpt-4","gpt-4-turbo","gpt-4o","gpt-3.5-turbo"],requires_api_key:!0,requires_endpoint:!1,description:"Direct access to OpenAI models"},{provider:"anthropic",display_name:"Anthropic",models:["claude-3-opus","claude-3-sonnet","claude-3-haiku"],requires_api_key:!0,requires_endpoint:!1,description:"Claude models with strong reasoning capabilities"},{provider:"ollama",display_name:"Ollama (Local)",models:["llama3","mistral","codellama","mixtral"],requires_api_key:!1,requires_endpoint:!0,description:"Run models locally with Ollama"}])}loadMockSettings(){this.settings.set([{id:"1",tenant_id:"tenant-1",task_type:"extraction",provider:"azure",model_name:"gpt-4",temperature:.1,max_tokens:4096,fallback_provider:"openai",fallback_model:"gpt-3.5-turbo",rate_limit_rpm:60,is_active:!0,created_at:"2025-01-01T00:00:00Z",updated_at:"2025-12-15T00:00:00Z"},{id:"2",tenant_id:"tenant-1",task_type:"validation",provider:"azure",model_name:"gpt-4-turbo",temperature:0,max_tokens:2048,rate_limit_rpm:120,is_active:!0,created_at:"2025-01-01T00:00:00Z",updated_at:"2025-12-10T00:00:00Z"},{id:"3",tenant_id:"tenant-1",task_type:"necessity",provider:"anthropic",model_name:"claude-3-sonnet",temperature:.2,max_tokens:8192,rate_limit_rpm:30,is_active:!0,created_at:"2025-06-01T00:00:00Z",updated_at:"2025-12-01T00:00:00Z"}])}loadMockUsage(){this.usageStats.set([{task_type:"extraction",provider:"azure",model_name:"gpt-4",total_requests:15420,total_tokens:125e5,total_prompt_tokens:8e6,total_completion_tokens:45e5,avg_latency_ms:2340,success_rate:.987,estimated_cost_usd:375.5,period_start:"2025-12-01T00:00:00Z",period_end:"2025-12-19T00:00:00Z"},{task_type:"validation",provider:"azure",model_name:"gpt-4-turbo",total_requests:8750,total_tokens:32e5,total_prompt_tokens:21e5,total_completion_tokens:11e5,avg_latency_ms:1850,success_rate:.995,estimated_cost_usd:96.2,period_start:"2025-12-01T00:00:00Z",period_end:"2025-12-19T00:00:00Z"},{task_type:"necessity",provider:"anthropic",model_name:"claude-3-sonnet",total_requests:3200,total_tokens:64e5,total_prompt_tokens:42e5,total_completion_tokens:22e5,avg_latency_ms:3100,success_rate:.978,estimated_cost_usd:192,period_start:"2025-12-01T00:00:00Z",period_end:"2025-12-19T00:00:00Z"}])}static \u0275fac=function(n){return new(n||i)};static \u0275cmp=O({type:i,selectors:[["app-llm-settings"]],features:[Z([je,xe])],decls:18,vars:8,consts:[[1,"llm-settings-container"],["pTemplate","header"],["header","Configuration"],[1,"loading-container"],[1,"task-cards"],["header","Usage Statistics"],[1,"usage-section"],["header","Available Providers"],[1,"providers-grid"],[1,"provider-card"],["header","Connection Test Result",3,"visibleChange","visible","modal"],[1,"test-result"],[1,"card-header"],[1,"header-title"],[1,"subtitle"],[1,"header-actions"],["icon","pi pi-refresh","label","Refresh",3,"onClick","text"],[1,"task-card"],[1,"task-header"],[1,"task-info"],[1,"task-icon"],[1,"task-description"],["pTooltip","Enable/Disable this task",3,"ngModelChange","onChange","ngModel"],[1,"no-config"],[1,"task-config"],[1,"config-row"],["placeholder","Select provider",3,"ngModelChange","onChange","options","ngModel"],["placeholder","Select model",3,"ngModelChange","options","ngModel"],[1,"value-badge"],[3,"ngModelChange","ngModel","min","max","step"],[1,"slider-labels"],[1,"fallback-section"],["placeholder","None",3,"ngModelChange","options","ngModel","showClear"],[3,"ngModelChange","ngModel","min","max"],[1,"action-buttons"],["icon","pi pi-check","label","Save",3,"onClick","loading"],["icon","pi pi-bolt","label","Test Connection",3,"onClick","text","loading"],["icon","pi pi-plus","label","Create Configuration",3,"onClick"],[1,"stats-cards"],[1,"stat-card"],[1,"stat-value"],[1,"stat-label"],["header","Usage by Task",3,"toggleable"],["styleClass","p-datatable-sm",3,"value"],["pTemplate","body"],["pTemplate","emptymessage"],["header","Token Usage by Provider",3,"toggleable"],["severity","info",3,"value"],[3,"value","severity"],["colspan","8",1,"text-center"],["type","doughnut",3,"data","options"],[1,"provider-header"],[1,"provider-description"],[1,"provider-details"],[1,"detail-row"],[1,"detail-label"],[1,"detail-value"],[1,"provider-models"],[1,"models-label"],[1,"model-tags"],["severity","secondary",3,"value"],[1,"more-models"],[1,"result-icon"],[1,"latency-info"],[1,"error-details"]],template:function(n,t){n&1&&(o(0,"div",0),g(1,"p-toast")(2,"p-confirmDialog"),o(3,"p-card"),h(4,Di,8,1,"ng-template",1),o(5,"p-tabView")(6,"p-tabPanel",2),h(7,Li,2,0,"div",3)(8,Ri,3,0,"div",4),r(),o(9,"p-tabPanel",5),h(10,zi,2,0,"div",3)(11,qi,32,17,"div",6),r(),o(12,"p-tabPanel",7)(13,"div",8),ne(14,Ui,28,10,"div",9,Ii),r()()()(),o(16,"p-dialog",10),T("visibleChange",function(_){return V(t.testDialogVisible,_)||(t.testDialogVisible=_),_}),h(17,Xi,9,10,"div",11),r()()),n&2&&(l(7),k(t.loading()?7:8),l(3),k(t.usageLoading()?10:11),l(4),ae(t.providers()),l(2),F(A(7,Ei)),M("visible",t.testDialogVisible),d("modal",!0),l(),k(t.testResult()?17:-1))},dependencies:[R,ze,Ue,Qe,Ze,Ye,Ke,ge,Vt,Mt,kt,et,$e,Xe,ct,pt,Et,Te,ut,mt,It,Ee,nt,it,Ct,vt,ot,at,lt,rt,xt,bt,dt,st,gt,_t,Dt,Pt,St,yt,ft,ht,wt],styles:[".llm-settings-container[_ngcontent-%COMP%]{padding:1.5rem}.card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:1rem}.header-title[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0;font-size:1.25rem;font-weight:600}.header-title[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%]{font-size:.875rem;color:var(--text-color-secondary)}.loading-container[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:3rem}.task-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(400px,1fr));gap:1.5rem}.task-card[_ngcontent-%COMP%]{background:var(--surface-card);border:1px solid var(--surface-border);border-radius:8px;padding:1.5rem}.task-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start}.task-info[_ngcontent-%COMP%]{display:flex;gap:1rem;align-items:flex-start}.task-icon[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--primary-color);background:var(--primary-100);padding:.75rem;border-radius:8px}.task-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1rem;font-weight:600}.task-description[_ngcontent-%COMP%]{font-size:.875rem;color:var(--text-color-secondary)}.task-config[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.config-row[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.config-row[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;font-size:.875rem;display:flex;justify-content:space-between;align-items:center}.value-badge[_ngcontent-%COMP%]{background:var(--primary-100);color:var(--primary-color);padding:.125rem .5rem;border-radius:4px;font-size:.75rem;font-weight:600}.slider-labels[_ngcontent-%COMP%]{display:flex;justify-content:space-between;font-size:.75rem;color:var(--text-color-secondary)}.fallback-section[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 1rem;font-size:.875rem;color:var(--text-color-secondary)}.action-buttons[_ngcontent-%COMP%]{display:flex;gap:.5rem;margin-top:.5rem}.no-config[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:var(--text-color-secondary)}.stats-cards[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:1rem;margin-bottom:1.5rem}.stat-card[_ngcontent-%COMP%]{background:var(--surface-card);border:1px solid var(--surface-border);border-radius:8px;padding:1rem;text-align:center}.stat-value[_ngcontent-%COMP%]{display:block;font-size:1.5rem;font-weight:700;color:var(--primary-color)}.stat-label[_ngcontent-%COMP%]{font-size:.875rem;color:var(--text-color-secondary)}.usage-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.providers-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1.5rem}.provider-card[_ngcontent-%COMP%]{background:var(--surface-card);border:1px solid var(--surface-border);border-radius:8px;padding:1.5rem}.provider-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;margin-bottom:.75rem}.provider-header[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--primary-color)}.provider-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.125rem}.provider-description[_ngcontent-%COMP%]{color:var(--text-color-secondary);font-size:.875rem;margin-bottom:1rem}.provider-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin-bottom:1rem}.detail-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.detail-label[_ngcontent-%COMP%]{font-size:.875rem;color:var(--text-color-secondary)}.provider-models[_ngcontent-%COMP%]{border-top:1px solid var(--surface-border);padding-top:1rem}.models-label[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-color-secondary);display:block;margin-bottom:.5rem}.model-tags[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.more-models[_ngcontent-%COMP%]{font-size:.75rem;color:var(--text-color-secondary);align-self:center}.test-result[_ngcontent-%COMP%]{text-align:center;padding:1rem}.result-icon[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:1rem}.result-icon.success[_ngcontent-%COMP%]{color:var(--green-500)}.result-icon.error[_ngcontent-%COMP%]{color:var(--red-500)}.test-result[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 .5rem}.latency-info[_ngcontent-%COMP%]{background:var(--surface-ground);padding:.5rem 1rem;border-radius:4px;margin-top:1rem}.error-details[_ngcontent-%COMP%]{background:var(--red-50);padding:.5rem 1rem;border-radius:4px;margin-top:1rem;text-align:left}.error-details[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{display:block;font-size:.75rem;color:var(--red-700);word-break:break-all}.text-center[_ngcontent-%COMP%]{text-align:center;padding:2rem;color:var(--text-color-secondary)}"],changeDetection:0})}return i})();export{Va as LlmSettingsComponent};
