import{a as d,h as _,i as g,l as y,m as c,q as f,t as C,u,v as P}from"./chunk-Y2YSYY3G.js";import{Ac as r,Z as n,ya as a}from"./chunk-UUFN4DK2.js";import{a as l,b as m}from"./chunk-4CLCTAJ7.js";var b=(()=>{class o{_claims=a([]);_loading=a(!1);_error=a(null);_selectedClaimId=a(null);_filters=a({});_pageSize=a(20);_currentPage=a(1);_metrics=a(null);claims=this._claims.asReadonly();loading=this._loading.asReadonly();error=this._error.asReadonly();filters=this._filters.asReadonly();pageSize=this._pageSize.asReadonly();currentPage=this._currentPage.asReadonly();metrics=this._metrics.asReadonly();selectedClaim=r(()=>{let e=this._selectedClaimId();return e?this._claims().find(t=>t.id===e)??null:null});totalCount=r(()=>this._claims().length);pendingClaims=r(()=>this._claims().filter(e=>[d.SUBMITTED,d.VALIDATING,d.ADJUDICATING,d.NEEDS_REVIEW,d.DOC_PROCESSING].includes(e.status)));approvedClaims=r(()=>this._claims().filter(e=>[d.APPROVED,d.PAID,d.PAYMENT_PROCESSING].includes(e.status)));deniedClaims=r(()=>this._claims().filter(e=>e.status===d.DENIED));claimsByStatus=r(()=>{let e={};for(let t of this._claims())e[t.status]=(e[t.status]||0)+1;return e});totalCharged=r(()=>this._claims().reduce((e,t)=>e+(t.total_charged||0),0));totalPaid=r(()=>this._claims().reduce((e,t)=>e+(t.total_paid||0),0));filteredClaims=r(()=>{let e=this._filters(),t=this._claims();if(e.status&&(t=t.filter(s=>s.status===e.status)),e.claimType&&(t=t.filter(s=>s.claim_type===e.claimType)),e.priority&&(t=t.filter(s=>s.priority===e.priority)),e.searchTerm){let s=e.searchTerm.toLowerCase();t=t.filter(i=>i.tracking_number.toLowerCase().includes(s)||i.member_id.toLowerCase().includes(s)||i.provider_id.toLowerCase().includes(s))}return e.memberId&&(t=t.filter(s=>s.member_id===e.memberId)),e.providerId&&(t=t.filter(s=>s.provider_id===e.providerId)),e.dateFrom&&(t=t.filter(s=>s.service_date_from>=e.dateFrom)),e.dateTo&&(t=t.filter(s=>s.service_date_to<=e.dateTo)),t});totalPages=r(()=>Math.ceil(this.filteredClaims().length/this._pageSize()));paginatedClaims=r(()=>{let e=(this._currentPage()-1)*this._pageSize(),t=e+this._pageSize();return this.filteredClaims().slice(e,t)});setClaims(e){this._claims.set(e),this._error.set(null)}setLoading(e){this._loading.set(e)}setError(e){this._error.set(e),this._loading.set(!1)}selectClaim(e){this._selectedClaimId.set(e)}clearSelection(){this._selectedClaimId.set(null)}addClaim(e){this._claims.update(t=>[...t,e])}updateClaim(e,t){this._claims.update(s=>s.map(i=>i.id===e?l(l({},i),t):i))}removeClaim(e){this._claims.update(t=>t.filter(s=>s.id!==e)),this._selectedClaimId()===e&&this._selectedClaimId.set(null)}setFilters(e){this._filters.set(e),this._currentPage.set(1)}clearFilters(){this._filters.set({}),this._currentPage.set(1)}setPageSize(e){this._pageSize.set(e),this._currentPage.set(1)}setCurrentPage(e){this._currentPage.set(e)}handleClaimUpdate(e){this._claims.update(t=>t.map(s=>s.id===e.claim_id?m(l({},s),{status:e.status,updated_at:new Date().toISOString()}):s))}updateMetrics(e){this._metrics.set(e)}batchUpdateClaims(e){let t=new Map(e.map(s=>[s.id,s.changes]));this._claims.update(s=>s.map(i=>{let p=t.get(i.id);return p?l(l({},i),p):i}))}batchAddClaims(e){this._claims.update(t=>[...t,...e])}static \u0275fac=function(t){return new(t||o)};static \u0275prov=n({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var E=(()=>{class o{_members=a([]);_loading=a(!1);_error=a(null);_selectedMemberId=a(null);_filters=a({});_pageSize=a(20);_currentPage=a(1);_totalCount=a(0);members=this._members.asReadonly();loading=this._loading.asReadonly();error=this._error.asReadonly();filters=this._filters.asReadonly();pageSize=this._pageSize.asReadonly();currentPage=this._currentPage.asReadonly();totalCount=this._totalCount.asReadonly();selectedMember=r(()=>{let e=this._selectedMemberId();return e?this._members().find(t=>t.id===e)??null:null});activeMembers=r(()=>this._members().filter(e=>e.status===_.ACTIVE));inactiveMembers=r(()=>this._members().filter(e=>[_.INACTIVE,_.TERMINATED].includes(e.status)));membersByStatus=r(()=>{let e={};for(let t of this._members())e[t.status]=(e[t.status]||0)+1;return e});filteredMembers=r(()=>{let e=this._filters(),t=this._members();if(e.status&&(t=t.filter(s=>s.status===e.status)),e.policyId&&(t=t.filter(s=>s.policy_id===e.policyId)),e.relationship&&(t=t.filter(s=>s.relationship_to_subscriber===e.relationship)),e.searchTerm){let s=e.searchTerm.toLowerCase();t=t.filter(i=>i.member_id.toLowerCase().includes(s)||i.first_name.toLowerCase().includes(s)||i.last_name.toLowerCase().includes(s)||i.email?.toLowerCase().includes(s)||g(i).toLowerCase().includes(s))}return t});totalPages=r(()=>Math.ceil(this._totalCount()/this._pageSize()));membersByPolicy=r(()=>{let e=new Map;for(let t of this._members()){let s=e.get(t.policy_id)||[];e.set(t.policy_id,[...s,t])}return e});setMembers(e){this._members.set(e),this._error.set(null)}setTotalCount(e){this._totalCount.set(e)}setLoading(e){this._loading.set(e)}setError(e){this._error.set(e),this._loading.set(!1)}selectMember(e){this._selectedMemberId.set(e)}clearSelection(){this._selectedMemberId.set(null)}addMember(e){this._members.update(t=>[...t,e]),this._totalCount.update(t=>t+1)}updateMember(e,t){this._members.update(s=>s.map(i=>i.id===e?l(l({},i),t):i))}removeMember(e){this._members.update(t=>t.filter(s=>s.id!==e)),this._totalCount.update(t=>Math.max(0,t-1)),this._selectedMemberId()===e&&this._selectedMemberId.set(null)}setFilters(e){this._filters.set(e),this._currentPage.set(1)}clearFilters(){this._filters.set({}),this._currentPage.set(1)}setPageSize(e){this._pageSize.set(e),this._currentPage.set(1)}setCurrentPage(e){this._currentPage.set(e)}reset(){this._members.set([]),this._loading.set(!1),this._error.set(null),this._selectedMemberId.set(null),this._filters.set({}),this._pageSize.set(20),this._currentPage.set(1),this._totalCount.set(0)}static \u0275fac=function(t){return new(t||o)};static \u0275prov=n({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var k=(()=>{class o{_providers=a([]);_loading=a(!1);_error=a(null);_selectedProviderId=a(null);_filters=a({});_pageSize=a(20);_currentPage=a(1);_totalCount=a(0);providers=this._providers.asReadonly();loading=this._loading.asReadonly();error=this._error.asReadonly();filters=this._filters.asReadonly();pageSize=this._pageSize.asReadonly();currentPage=this._currentPage.asReadonly();totalCount=this._totalCount.asReadonly();selectedProvider=r(()=>{let e=this._selectedProviderId();return e?this._providers().find(t=>t.id===e)??null:null});activeProviders=r(()=>this._providers().filter(e=>e.status===y.ACTIVE));inNetworkProviders=r(()=>this._providers().filter(e=>e.network_status===c.IN_NETWORK||e.network_status===c.PREFERRED));providersByStatus=r(()=>{let e={};for(let t of this._providers())e[t.status]=(e[t.status]||0)+1;return e});providersByType=r(()=>{let e={};for(let t of this._providers())e[t.provider_type]=(e[t.provider_type]||0)+1;return e});uniqueSpecialties=r(()=>{let e=new Set;for(let t of this._providers())t.specialty&&e.add(t.specialty);return Array.from(e).sort()});filteredProviders=r(()=>{let e=this._filters(),t=this._providers();if(e.status&&(t=t.filter(s=>s.status===e.status)),e.providerType&&(t=t.filter(s=>s.provider_type===e.providerType)),e.specialty&&(t=t.filter(s=>s.specialty===e.specialty)),e.inNetwork!==void 0){let s=i=>i.network_status===c.IN_NETWORK||i.network_status===c.PREFERRED;t=t.filter(i=>e.inNetwork?s(i):!s(i))}if(e.state&&(t=t.filter(s=>s.address.state===e.state)),e.city&&(t=t.filter(s=>s.address.city.toLowerCase().includes(e.city.toLowerCase()))),e.searchTerm){let s=e.searchTerm.toLowerCase();t=t.filter(i=>i.npi.toLowerCase().includes(s)||i.name.toLowerCase().includes(s)||i.specialty?.toLowerCase().includes(s)||i.tax_id?.toLowerCase().includes(s))}return t});totalPages=r(()=>Math.ceil(this._totalCount()/this._pageSize()));setProviders(e){this._providers.set(e),this._error.set(null)}setTotalCount(e){this._totalCount.set(e)}setLoading(e){this._loading.set(e)}setError(e){this._error.set(e),this._loading.set(!1)}selectProvider(e){this._selectedProviderId.set(e)}clearSelection(){this._selectedProviderId.set(null)}addProvider(e){this._providers.update(t=>[...t,e]),this._totalCount.update(t=>t+1)}updateProvider(e,t){this._providers.update(s=>s.map(i=>i.id===e?l(l({},i),t):i))}removeProvider(e){this._providers.update(t=>t.filter(s=>s.id!==e)),this._totalCount.update(t=>Math.max(0,t-1)),this._selectedProviderId()===e&&this._selectedProviderId.set(null)}setFilters(e){this._filters.set(e),this._currentPage.set(1)}clearFilters(){this._filters.set({}),this._currentPage.set(1)}setPageSize(e){this._pageSize.set(e),this._currentPage.set(1)}setCurrentPage(e){this._currentPage.set(e)}reset(){this._providers.set([]),this._loading.set(!1),this._error.set(null),this._selectedProviderId.set(null),this._filters.set({}),this._pageSize.set(20),this._currentPage.set(1),this._totalCount.set(0)}static \u0275fac=function(t){return new(t||o)};static \u0275prov=n({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var V=(()=>{class o{_policies=a([]);_loading=a(!1);_error=a(null);_selectedPolicyId=a(null);_filters=a({});_pageSize=a(20);_currentPage=a(1);_totalCount=a(0);policies=this._policies.asReadonly();loading=this._loading.asReadonly();error=this._error.asReadonly();filters=this._filters.asReadonly();pageSize=this._pageSize.asReadonly();currentPage=this._currentPage.asReadonly();totalCount=this._totalCount.asReadonly();selectedPolicy=r(()=>{let e=this._selectedPolicyId();return e?this._policies().find(t=>t.id===e)??null:null});activePolicies=r(()=>this._policies().filter(e=>e.status===f.ACTIVE));expiringPolicies=r(()=>{let e=new Date;e.setDate(e.getDate()+30);let t=e.toISOString().split("T")[0];return this._policies().filter(s=>s.status===f.ACTIVE&&s.termination_date&&s.termination_date<=t)});policiesByStatus=r(()=>{let e={};for(let t of this._policies())e[t.status]=(e[t.status]||0)+1;return e});policiesByType=r(()=>{let e={};for(let t of this._policies())e[t.plan_type]=(e[t.plan_type]||0)+1;return e});uniqueGroups=r(()=>{let e=new Map;for(let t of this._policies())t.group_id&&t.group_name&&e.set(t.group_id,t.group_name);return Array.from(e.entries()).map(([t,s])=>({id:t,name:s}))});filteredPolicies=r(()=>{let e=this._filters(),t=this._policies();if(e.status&&(t=t.filter(s=>s.status===e.status)),e.policyType&&(t=t.filter(s=>s.plan_type===e.policyType)),e.groupId&&(t=t.filter(s=>s.group_id===e.groupId)),e.effectiveFrom&&(t=t.filter(s=>s.effective_date>=e.effectiveFrom)),e.effectiveTo&&(t=t.filter(s=>!s.termination_date||s.termination_date<=e.effectiveTo)),e.searchTerm){let s=e.searchTerm.toLowerCase();t=t.filter(i=>i.policy_number.toLowerCase().includes(s)||i.policy_name.toLowerCase().includes(s)||i.group_name?.toLowerCase().includes(s))}return t});totalPages=r(()=>Math.ceil(this._totalCount()/this._pageSize()));setPolicies(e){this._policies.set(e),this._error.set(null)}setTotalCount(e){this._totalCount.set(e)}setLoading(e){this._loading.set(e)}setError(e){this._error.set(e),this._loading.set(!1)}selectPolicy(e){this._selectedPolicyId.set(e)}clearSelection(){this._selectedPolicyId.set(null)}addPolicy(e){this._policies.update(t=>[...t,e]),this._totalCount.update(t=>t+1)}updatePolicy(e,t){this._policies.update(s=>s.map(i=>i.id===e?l(l({},i),t):i))}removePolicy(e){this._policies.update(t=>t.filter(s=>s.id!==e)),this._totalCount.update(t=>Math.max(0,t-1)),this._selectedPolicyId()===e&&this._selectedPolicyId.set(null)}setFilters(e){this._filters.set(e),this._currentPage.set(1)}clearFilters(){this._filters.set({}),this._currentPage.set(1)}setPageSize(e){this._pageSize.set(e),this._currentPage.set(1)}setCurrentPage(e){this._currentPage.set(e)}reset(){this._policies.set([]),this._loading.set(!1),this._error.set(null),this._selectedPolicyId.set(null),this._filters.set({}),this._pageSize.set(20),this._currentPage.set(1),this._totalCount.set(0)}static \u0275fac=function(t){return new(t||o)};static \u0275prov=n({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var J=(()=>{class o{_users=a([]);_roles=a([]);_permissions=a([]);_loading=a(!1);_error=a(null);_selectedUserId=a(null);_filters=a({});_pageSize=a(20);_currentPage=a(1);_totalCount=a(0);users=this._users.asReadonly();roles=this._roles.asReadonly();permissions=this._permissions.asReadonly();loading=this._loading.asReadonly();error=this._error.asReadonly();filters=this._filters.asReadonly();pageSize=this._pageSize.asReadonly();currentPage=this._currentPage.asReadonly();totalCount=this._totalCount.asReadonly();selectedUser=r(()=>{let e=this._selectedUserId();return e?this._users().find(t=>t.id===e)??null:null});activeUsers=r(()=>this._users().filter(e=>e.status===u.ACTIVE));lockedUsers=r(()=>this._users().filter(e=>e.status===u.LOCKED));usersByStatus=r(()=>{let e={};for(let t of this._users())e[t.status]=(e[t.status]||0)+1;return e});usersByRole=r(()=>{let e={};for(let t of this._users())e[t.role]=(e[t.role]||0)+1;return e});roleOptions=r(()=>this._roles().map(e=>({label:P(e.name),value:e.name,description:e.description})));filteredUsers=r(()=>{let e=this._filters(),t=this._users();if(e.status&&(t=t.filter(s=>s.status===e.status)),e.role&&(t=t.filter(s=>s.role===e.role)),e.searchTerm){let s=e.searchTerm.toLowerCase();t=t.filter(i=>i.email.toLowerCase().includes(s)||i.first_name.toLowerCase().includes(s)||i.last_name.toLowerCase().includes(s)||`${i.first_name} ${i.last_name}`.toLowerCase().includes(s))}return t});totalPages=r(()=>Math.ceil(this._totalCount()/this._pageSize()));adminCount=r(()=>this._users().filter(e=>e.role===C.ADMIN).length);setUsers(e){this._users.set(e),this._error.set(null)}setRoles(e){this._roles.set(e)}setPermissions(e){this._permissions.set(e)}setTotalCount(e){this._totalCount.set(e)}setLoading(e){this._loading.set(e)}setError(e){this._error.set(e),this._loading.set(!1)}selectUser(e){this._selectedUserId.set(e)}clearSelection(){this._selectedUserId.set(null)}addUser(e){this._users.update(t=>[...t,e]),this._totalCount.update(t=>t+1)}updateUser(e,t){this._users.update(s=>s.map(i=>i.id===e?l(l({},i),t):i))}removeUser(e){this._users.update(t=>t.filter(s=>s.id!==e)),this._totalCount.update(t=>Math.max(0,t-1)),this._selectedUserId()===e&&this._selectedUserId.set(null)}lockUser(e){this.updateUser(e,{status:u.LOCKED,locked_at:new Date().toISOString()})}unlockUser(e){this.updateUser(e,{status:u.ACTIVE,locked_at:void 0,failed_login_attempts:0})}setFilters(e){this._filters.set(e),this._currentPage.set(1)}clearFilters(){this._filters.set({}),this._currentPage.set(1)}setPageSize(e){this._pageSize.set(e),this._currentPage.set(1)}setCurrentPage(e){this._currentPage.set(e)}reset(){this._users.set([]),this._roles.set([]),this._permissions.set([]),this._loading.set(!1),this._error.set(null),this._selectedUserId.set(null),this._filters.set({}),this._pageSize.set(20),this._currentPage.set(1),this._totalCount.set(0)}static \u0275fac=function(t){return new(t||o)};static \u0275prov=n({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();export{b as a,E as b,k as c,V as d,J as e};
